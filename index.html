

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>About &mdash; Example Site  documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="#" class="icon icon-home"> Example Site
          

          
          </a>

          
            
            
              <div class="version">
                2.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <!-- Local TOC -->
              <div class="local-toc"><ul>
<li><a class="reference internal" href="#">About</a></li>
<li><a class="reference internal" href="#usage">Usage</a><ul>
<li><a class="reference internal" href="#create-a-sphinx-project">Create a Sphinx project</a></li>
<li><a class="reference internal" href="#configure-you-sphinx-project">Configure you Sphinx project</a></li>
<li><a class="reference internal" href="#use-the-action">Use the action</a></li>
</ul>
</li>
<li><a class="reference internal" href="#inputs">Inputs</a><ul>
<li><a class="reference internal" href="#example-usage">Example Usage:</a></li>
</ul>
</li>
<li><a class="reference internal" href="#support">Support</a></li>
<li><a class="reference internal" href="#donate">Donate</a></li>
<li><a class="reference internal" href="#author">Author</a></li>
<li><a class="reference internal" href="#license">License</a><ul>
<li><a class="reference internal" href="#indices-and-tables">Indices and tables</a></li>
</ul>
</li>
</ul>
</div>
            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="#">Example Site</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="#" class="icon icon-home"></a> &raquo;</li>
        
      <li>About</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/index.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <h1 align="center"><p>Sphinx Publish Action: Publish Sphinx to Github Pages, Quick and Easy.</p>
</h1>

<p align="center"><p><a class="reference internal" href="#about">About</a> • <a class="reference internal" href="#usage">Usage</a> • <a class="reference internal" href="#inputs">Inputs</a> • <a class="reference internal" href="#author">Author</a> • <a class="reference internal" href="#support">Support</a> • <a class="reference internal" href="#donate">Donate</a> • <a class="reference internal" href="#license">License</a></p>
</p>

<p align="center"></p><hr class="docutils" />
<div class="section" id="about">
<h1>About<a class="headerlink" href="#about" title="Permalink to this headline">¶</a></h1>
<table>
<tr>
<td><p><strong>sphinx-publish-action</strong> is a GitHub Action to build and publish Sphinx sites to GitHub Pages</p>
<p>Remember that GitHub is serving your built static site, not its sources. So when
configuring GitHub Pages in your project settings, use <strong>gh-pages branch</strong> as a
Source for GitHub Pages. If you are setting up <em>username</em>.github.io repository,
you’ll have to use <strong>master branch</strong>, so sources can be located in another orphaned
branch in the repo (which you can safely mark as default after the first publication).
In addition to that default behaviour, you can configure the branch this plugin pushes
into with the <cite>target_branch</cite>-option. Keep in mind to set the source branch accordingly
at the GitHub Pages Settings page.</p>
</td>
</tr>
</table></div>
<div class="section" id="usage">
<h1>Usage<a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h1>
<div class="section" id="create-a-sphinx-project">
<h2>Create a Sphinx project<a class="headerlink" href="#create-a-sphinx-project" title="Permalink to this headline">¶</a></h2>
<p>If your repo doesn’t already have one, create a new Sphinx project:</p>
<p>See [the Sphinx website](<a class="reference external" href="https://www.sphinx-doc.org/en/master/usage/quickstart.html">https://www.sphinx-doc.org/en/master/usage/quickstart.html</a>)
for more information. In this repo, we have created a site within a <cite>sample_site</cite>
folder within the repository because the repository’s main goal is not to be a
website. If it was the case, we would have created the site at the root of the
repository.</p>
</div>
<div class="section" id="configure-you-sphinx-project">
<h2>Configure you Sphinx project<a class="headerlink" href="#configure-you-sphinx-project" title="Permalink to this headline">¶</a></h2>
<p>Edit the conf,oy file to leverage plugins. In our sample, we are using read the docs
theme, along with some other extensions for reading docstrings in python.</p>
</div>
<div class="section" id="use-the-action">
<h2>Use the action<a class="headerlink" href="#use-the-action" title="Permalink to this headline">¶</a></h2>
<p>Use the <cite>totaldebug/action-sphinx&#64;master</cite> action in your workflow file. It needs
access to the out-of-the-box <cite>GITHUB_TOKEN</cite> secret. The directory where the Sphinx
project lives will be detected (based on the location of <cite>conf.py</cite> and <cite>Makefile</cite>)
but you can also explicitly set this directory by setting the <cite>sphinx_src</cite> parameter
(<cite>sample_site</cite> for us).</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Testing the GitHub Pages publication</span>

<span class="nt">on</span><span class="p">:</span>
    <span class="nt">push</span><span class="p">:</span>

<span class="nt">jobs</span><span class="p">:</span>
    <span class="nt">jekyll</span><span class="p">:</span>
        <span class="nt">runs-on</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">ubuntu-latest</span>
        <span class="nt">steps</span><span class="p">:</span>
        <span class="p p-Indicator">-</span> <span class="nt">uses</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">actions/checkout@v2</span>

        <span class="c1"># Standard usage</span>
        <span class="p p-Indicator">-</span> <span class="nt">uses</span><span class="p">:</span>  <span class="l l-Scalar l-Scalar-Plain">totaldebug/action-sphinx@v2</span>
        <span class="nt">with</span><span class="p">:</span>
            <span class="nt">token</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">${{ secrets.GITHUB_TOKEN }}</span>

        <span class="c1"># Specify the Sphinx source location as a parameter</span>
        <span class="p p-Indicator">-</span> <span class="nt">uses</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">totaldebug/action-sphinx@v2</span>
        <span class="nt">with</span><span class="p">:</span>
            <span class="nt">token</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">${{ secrets.GITHUB_TOKEN }}</span>
            <span class="nt">sphinx_src</span><span class="p">:</span> <span class="s">&#39;sample_site&#39;</span>

        <span class="c1"># Specify the target branch (optional)</span>
        <span class="p p-Indicator">-</span> <span class="nt">uses</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">totaldebug/action-sphinx@v2</span>
        <span class="nt">with</span><span class="p">:</span>
            <span class="nt">token</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">${{ secrets.GITHUB_TOKEN }}</span>
            <span class="nt">target_branch</span><span class="p">:</span> <span class="s">&#39;gh-pages&#39;</span>
</pre></div>
</div>
<p>Upon successful execution, the GitHub Pages publishing will happen automatically
and will be listed on the <em>_environment_</em> tab of your repository.</p>
<p>Just click on the <em>_View deployment_</em> button of the <cite>github-pages</cite> environment
to navigate to your GitHub Pages site.</p>
</div>
</div>
<div class="section" id="inputs">
<h1>Inputs<a class="headerlink" href="#inputs" title="Permalink to this headline">¶</a></h1>
<table class="docutils align-default">
<colgroup>
<col style="width: 27%" />
<col style="width: 73%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Directive Name</p></th>
<th class="head"><p>Description (Docutils version added to, in [brackets])</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>token</p></td>
<td><p>the <cite>GITHUB_TOKEN</cite> secret. This is mandatory unless
<cite>build_only</cite> is set to <cite>true</cite>.</p></td>
</tr>
<tr class="row-odd"><td><p>sphinx_env</p></td>
<td><p>The Sphinx environment to build (default to <cite>production</cite>)</p></td>
</tr>
<tr class="row-even"><td><p>sphinx_src</p></td>
<td><p>The Sphinx website source directory</p></td>
</tr>
<tr class="row-odd"><td><p>sphinx_build_options</p></td>
<td><p>Additional Sphinx build arguments</p></td>
</tr>
<tr class="row-even"><td><p>target_branch</p></td>
<td><p>The target branch name the sources get pushed to</p></td>
</tr>
<tr class="row-odd"><td><p>target_path</p></td>
<td><p>The relative path where the site gets pushed to</p></td>
</tr>
<tr class="row-even"><td><p>build_only</p></td>
<td><p>When set to <cite>true</cite>, the Sphinx site will be built but not
published</p></td>
</tr>
<tr class="row-odd"><td><p>pre_build_commands</p></td>
<td><p>Commands to run prior to build and deploy. Useful for
ensuring build dependencies are up to date or installing
new dependencies.</p></td>
</tr>
<tr class="row-even"><td><p>cname</p></td>
<td><p>Contents of CNAME file, this will be copied over.</p></td>
</tr>
</tbody>
</table>
<div class="section" id="example-usage">
<h2>Example Usage:<a class="headerlink" href="#example-usage" title="Permalink to this headline">¶</a></h2>
</div>
</div>
<div class="section" id="support">
<h1>Support<a class="headerlink" href="#support" title="Permalink to this headline">¶</a></h1>
<p>Create a <cite>ACTIONS_STEP_DEBUG</cite> secret with value <cite>true</cite> and run the workflow again.</p>
<p>Reach out to me at one of the following places:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://discord.gg/6fmekudc8Q">Discord</a></p></li>
<li><p><a class="reference external" href="https://github.com/totaldebug/pyarr/discussions">Discussions</a></p></li>
<li><p><a class="reference external" href="https://github.com/totaldebug/pyarr/issues/new/choose">Issues</a></p></li>
</ul>
</div>
<div class="section" id="donate">
<h1>Donate<a class="headerlink" href="#donate" title="Permalink to this headline">¶</a></h1>
<p>Please consider supporting this project by sponsoring, or just donating
a little via <a class="reference external" href="https://github.com/sponsors/marksie1988">our sponsor
page</a></p>
</div>
<div class="section" id="author">
<h1>Author<a class="headerlink" href="#author" title="Permalink to this headline">¶</a></h1>
<table class="docutils align-default">
<colgroup>
<col style="width: 100%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p><a class="reference external" href="https://linkedin.com/in/marksie1988"><img alt="TotalDebug" src="https://totaldebug.uk/assets/images/logo.png" style="width: 150px;" /></a></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>marksie1988 (Steven Marks)</strong></p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="license">
<h1>License<a class="headerlink" href="#license" title="Permalink to this headline">¶</a></h1>
<p><a class="reference external" href="https://creativecommons.org/licenses/by-nc-sa/4.0/"><img alt="License: CC BY-NC-SA 4.0" src="https://img.shields.io/badge/License-CC%20BY--NC--SA%204.0-orange.svg?style=flat-square" /></a></p>
<ul class="simple">
<li><p>Copyright © <a class="reference external" href="https://totaldebug.uk">Total Debug</a>.</p></li>
</ul>
<div class="toctree-wrapper compound">
</div>
<div class="section" id="indices-and-tables">
<h2>Indices and tables<a class="headerlink" href="#indices-and-tables" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p><a class="reference internal" href="genindex.html"><span class="std std-ref">Index</span></a></p></li>
<li><p><a class="reference internal" href="py-modindex.html"><span class="std std-ref">Module Index</span></a></p></li>
<li><p><a class="reference internal" href="search.html"><span class="std std-ref">Search Page</span></a></p></li>
</ul>
</div>
</div>


           </div>
           
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, TotalDebug.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>